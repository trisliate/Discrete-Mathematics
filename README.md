# 离散数学实验 - 完整项目

> 包含5个独立的C程序，实现离散数学中关系与函数的各种操作

## 📁 项目文件

```
离散数学/
├── exp1_关系概念.c          实验1：关系的概念
├── exp2_关系性质.c          实验2：关系的性质
├── exp3_关系复合.c          实验3：关系的复合运算
├── exp4_关系闭包.c          实验4：关系的闭包
├── exp5_函数判定.c          实验5：函数的定义与类型
└── README.md               本文件
```

## 🚀 快速开始

### 在Dev-C++中运行
1. 打开 Dev-C++
2. File → Open → 选择任一 `exp*.c` 文件
3. 按 **F11** 编译并运行
4. 按照提示输入数据

---

## 📋 各实验说明

### 实验1：关系的概念 (`exp1_关系概念.c`)

**功能**：
- 输入集合A和集合B
- 输入从A到B的关系R的序偶
- 输出：
  - (1) 关系R的集合表达式
  - (2) 关系矩阵
  - (3) 定义域 domR
  - (4) 值域 ranR

**输入示例**：
```
集合A元素个数: 3
集合A的元素: 1 2 3
集合B元素个数: 3
集合B的元素: 1 2 3
关系R中序偶的个数: 5
第1个序偶: 1 1
第2个序偶: 1 2
第3个序偶: 2 2
第4个序偶: 2 3
第5个序偶: 3 1
```

**输出示例**：
```
【关系R的集合表达式】
R = {<1,1>, <1,2>, <2,2>, <2,3>, <3,1>}

【关系矩阵 M(R)】
          1    2    3
      1   1    1    0
      2   0    1    1
      3   1    0    0

【定义域 domR】
domR = {1, 2, 3}

【值域 ranR】
ranR = {1, 2, 3}
```

---

### 实验2：关系的性质 (`exp2_关系性质.c`)

**功能**：
- 输入集合A和A上的关系R
- 输出关系矩阵
- 判定并输出：
  - (1) 是否为自反关系
  - (2) 是否为反自反关系
  - (3) 是否为对称关系
  - (4) 是否为反对称关系
  - (5) 是否为传递关系

**关系性质对照表**：

| 性质 | 定义 | 判定方法 |
|------|------|--------|
| 自反 | ∀a∈A, <a,a>∈R | 主对角线全为1 |
| 反自反 | ∀a∈A, <a,a>∉R | 主对角线全为0 |
| 对称 | <a,b>∈R ⟹ <b,a>∈R | 矩阵为对称矩阵 |
| 反对称 | <a,b>∈R ∧ <b,a>∈R ⟹ a=b | 不同位置不能同时为1 |
| 传递 | <a,b>∈R ∧ <b,c>∈R ⟹ <a,c>∈R | 若M[i][j]=1且M[j][k]=1则M[i][k]=1 |

---

### 实验3：关系的复合运算 (`exp3_关系复合.c`)

**功能**：
- 输入关系R（从A到B）
- 输入关系S（从B到C）
- 输出复合关系R∘S的矩阵

**复合公式**：
$$R \circ S = \{<a,c> | \exists b \in B, <a,b> \in R \land <b,c> \in S\}$$

**矩阵计算**：
$$M(R \circ S)[i][k] = \bigvee_{j} (M(R)[i][j] \land M(S)[j][k])$$

---

### 实验4：关系的闭包 (`exp4_关系闭包.c`)

**功能**：
- 输入集合A和A上的关系R
- 计算并输出：
  - 自反闭包：r(R) = R ∪ {<a,a> | a∈A}
  - 对称闭包：s(R) = R ∪ {<b,a> | <a,b>∈R}

**闭包的意义**：
- 自反闭包：加入所有自环使关系具有自反性
- 对称闭包：加入反向的边使关系具有对称性

---

### 实验5：函数的定义与类型 (`exp5_函数判定.c`)

**功能**：
- 输入集合A和集合B
- 输入关系f（从A到B）
- 输出：
  - 关系f的集合表达式
  - 关系矩阵
  - 判定结果：
    - 是否为函数
    - 是否为单射
    - 是否为满射
    - 函数类型

**函数类型**：

| 类型 | 条件 | 说明 |
|------|------|------|
| 函数 | A中每个元素恰好对应B中一个元素 | 定义域=A，每个输入一个输出 |
| 单射 | 不同的A中元素映射到不同的B中元素 | 一对一 |
| 满射 | B中每个元素都被某个A中元素映射到 | 映上 |
| 双射 | 既是单射又是满射 | 一一对应，存在反函数 |

---

## 💻 编译和运行

### 在Dev-C++中
1. File → Open → 选择 .c 文件
2. Execute → Compile & Run (或按F11)

### 使用命令行

**GCC编译**：
```bash
gcc -std=c99 -o exp1.exe exp1_关系概念.c
./exp1.exe
```

**MSVC编译**：
```bash
cl exp1_关系概念.c
exp1_关系概念.exe
```

---

## 📝 输入格式

### 输入集合
```
输入集合的元素个数: 3
依次输入集合的各元素: 1 2 3
```

### 输入序偶
```
输入关系R中序偶的个数: 5
第1个序偶: 1 1
第2个序偶: 1 2
第3个序偶: 2 2
第4个序偶: 2 3
第5个序偶: 3 1
```

---

## 🔍 常见问题

### Q1: 编译出错 "for loop initial declarations are only allowed in C99"
**A**: 在Dev-C++中设置编译选项为C99：
- Tools → Compiler Options
- 在编译参数中添加 `-std=c99`
- 或改为：`gcc -std=c99 exp1_关系概念.c`

### Q2: 序偶输入错误提示
**A**: 序偶中的元素必须在对应的集合中：
- 第一个数必须在集合A中
- 第二个数必须在集合B中

### Q3: 程序输出乱码
**A**: 
- 检查源文件编码：应为UTF-8或GBK
- 在Dev-C++中：File → Properties → 设置编码

### Q4: 支持的最大集合大小
**A**: 最多50个元素，最多100个序偶

---

## 🧪 测试示例

### 最简单的测试（exp1）
```
集合A: 2个元素 → 1 2
集合B: 2个元素 → 1 2
序偶: 2个 → <1,1>, <2,2>
```

### 等价关系示例（exp2）
```
集合A: 3个元素 → 1 2 3
关系R: 5个序偶 → <1,1>, <1,2>, <2,1>, <2,2>, <3,3>
结果: 自反✓ 对称✓ 传递✓
```

### 双射函数示例（exp5）
```
集合A: 3个元素 → 1 2 3
集合B: 3个元素 → 1 2 3
f: 3个序偶 → <1,1>, <2,2>, <3,3>
结果: 函数✓ 单射✓ 满射✓ 双射✓
```

---

## 📚 关键概念

### 关系的表示
- **序偶形式**: R = {<a₁,b₁>, <a₂,b₂>, ...}
- **矩阵形式**: M(R)[i][j] = 1 当<aᵢ,bⱼ>∈R，否则=0
- **定义域**: domR = {第一个分量的集合}
- **值域**: ranR = {第二个分量的集合}

### 特殊关系
- **等价关系**: 自反 + 对称 + 传递
- **偏序关系**: 自反 + 反对称 + 传递
- **严格偏序**: 反自反 + 反对称 + 传递

### 闭包运算
- **r(R)** = 自反闭包 = R ∪ {<a,a> | a∈A}
- **s(R)** = 对称闭包 = R ∪ R⁻¹
- **t(R)** = 传递闭包 = R ∪ R² ∪ R³ ∪ ...

---

## ✅ 代码特性

✅ **标准C89兼容** - 可在任何C编译器上运行  
✅ **中文注释和输出** - 易于理解  
✅ **错误检验** - 序偶有效性检查  
✅ **清晰的输出格式** - 矩阵和集合表达式  
✅ **独立程序** - 每个实验可单独运行  

---

## 🎓 学习路径

### 初级
1. 运行 exp1，理解关系的表示方法
2. 运行 exp5，理解函数的概念

### 中级
3. 运行 exp2，学习5种关系性质
4. 自己设计满足特定性质的关系

### 高级
5. 运行 exp3，理解关系的复合
6. 运行 exp4，理解闭包操作
7. 综合应用多个概念

---

## 📞 技术支持

遇到问题？
1. 检查输入格式是否正确
2. 确保编译时使用 `-std=c99` 或 `-std=c11`
3. 验证源文件编码为UTF-8
4. 参考本README中的示例

---

## 📊 项目统计

| 指标 | 数值 |
|------|------|
| 实验数量 | 5个 |
| 源代码文件 | 5个 |
| 总代码行数 | ~1200行 |
| 最大集合元素 | 50个 |
| 最大序偶数 | 100个 |
| 判定算法 | 8种 |
| 关键功能 | 15+个 |

---

## ✨ 快速参考

### 编译命令
```bash
# GCC (推荐)
gcc -std=c99 -o exp1.exe exp1_关系概念.c

# MinGW
mingw32-gcc -std=c99 -o exp1.exe exp1_关系概念.c

# Clang
clang -std=c99 -o exp1.exe exp1_关系概念.c
```

### 快捷方式
- **在Dev-C++中运行**: F11
- **仅编译**: F9
- **调试运行**: F10

### 矩阵读法
- 行表示第一个集合的元素
- 列表示第二个集合的元素
- M[i][j]=1 表示存在<aᵢ,bⱼ>的关系

---

**祝您实验顺利！** 🎉

*最后更新：2025年11月10日*
*C标准：C99/C11兼容*
*编码：UTF-8*
